(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(9172)}])},9172:function(e,r,t){"use strict";t.r(r),t.d(r,{__N_SSP:function(){return j},default:function(){return N}});var a=t(5893),o=t(9008),s=t.n(o),n=t(771),i=t.n(n);function l(e){let r="https://open.spotify.com/embed/track/".concat(e.id);return(0,a.jsxs)("div",{className:i().frameWrapper,children:[(0,a.jsxs)("div",{className:i().frameCountry,children:[(0,a.jsx)("span",{children:e.country}),(0,a.jsx)("button",{onClick:e.toggleFavourite,className:i().button,children:e.isFavourite?(0,a.jsx)("svg",{className:i().svg,width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M5 0L6.12257 3.45492H9.75528L6.81636 5.59017L7.93893 9.04508L5 6.90983L2.06107 9.04508L3.18364 5.59017L0.244718 3.45492H3.87743L5 0Z",fill:"#FF0087"})}):(0,a.jsx)("svg",{width:"10",className:i().svg,height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M5 0.809018L5.88481 3.53217L5.94093 3.70492H6.12257H8.98586L6.66941 5.38792L6.52246 5.49468L6.57859 5.66742L7.4634 8.39058L5.14695 6.70758L5 6.60081L4.85305 6.70758L2.5366 8.39058L3.42141 5.66742L3.47754 5.49468L3.33059 5.38792L1.01414 3.70492H3.87743H4.05907L4.11519 3.53217L5 0.809018Z",stroke:"#FF0087","stroke-width":"0.5"})})})]}),(0,a.jsx)("iframe",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},src:r,frameBorder:"0",allowfullscreen:"",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",loading:"lazy"})]})}var c=t(7294),h=t(396),d=t.n(h),p=t(6154),u=t(4745),g=t.n(u);function v(){let[e,r]=(0,c.useState)(!1),[t,o]=(0,c.useState)(!1),[s,n]=(0,c.useContext)(_),i=async()=>{await p.Z.get("https://eurovisiongen.vercel.app/api/logout"),n(null)};return(0,c.useEffect)(()=>{document.cookie&&(console.log("token exists"),p.Z.get("https://eurovisiongen.vercel.app/api/getProfile",{withCredentials:!0,headers:{Cookie:document.cookie}}).then(e=>{console.log(e),n(e.data)}).catch(e=>console.log("error from get profile",e)))},[]),(0,a.jsxs)("header",{className:g().header,children:[(0,a.jsxs)("div",{className:g().headerWrapper,children:[(0,a.jsxs)("div",{className:g().logo,children:[(0,a.jsx)("img",{src:"/visuals/whiteEuro.svg",alt:"Eurovision Song Generator"}),(0,a.jsx)("span",{children:"SONG CONTEST GENERATOR"})]}),(0,a.jsx)("div",{className:g().spotifyLoginWrapper,children:s?(0,a.jsxs)("div",{className:g().profile,children:[(0,a.jsx)("img",{src:s.images[0].url,alt:"Profile"}),(0,a.jsx)("h2",{children:s.display_name}),(0,a.jsx)("svg",{className:e?g().arrow:g().arrowUp,onClick:()=>{r(!e),o(!t)},fill:"#FFFFFF",width:"20px",height:"20px",viewBox:"0 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M0.256 8.606c0-0.269 0.106-0.544 0.313-0.75 0.412-0.412 1.087-0.412 1.5 0l14.119 14.119 13.913-13.912c0.413-0.412 1.087-0.412 1.5 0s0.413 1.088 0 1.5l-14.663 14.669c-0.413 0.413-1.088 0.413-1.5 0l-14.869-14.869c-0.213-0.213-0.313-0.481-0.313-0.756z"})}),(0,a.jsx)("div",{className:g().logOutWrapper,children:t&&(0,a.jsx)("button",{onClick:i,className:g().logOut,children:"Log Out"})})]}):(0,a.jsxs)("a",{className:g().spotifyLogin,href:"https://eurovision-service.onrender.com/login",children:[(0,a.jsx)("span",{children:"LOG IN WITH"}),(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"168px",width:"559px",version:"1.1",viewBox:"0 0 559 168",children:(0,a.jsx)("path",{d:"m83.996 0.277c-46.249 0-83.743 37.493-83.743 83.742 0 46.251 37.494 83.741 83.743 83.741 46.254 0 83.744-37.49 83.744-83.741 0-46.246-37.49-83.738-83.745-83.738l0.001-0.004zm38.404 120.78c-1.5 2.46-4.72 3.24-7.18 1.73-19.662-12.01-44.414-14.73-73.564-8.07-2.809 0.64-5.609-1.12-6.249-3.93-0.643-2.81 1.11-5.61 3.926-6.25 31.9-7.288 59.263-4.15 81.337 9.34 2.46 1.51 3.24 4.72 1.73 7.18zm10.25-22.802c-1.89 3.072-5.91 4.042-8.98 2.152-22.51-13.836-56.823-17.843-83.448-9.761-3.453 1.043-7.1-0.903-8.148-4.35-1.04-3.453 0.907-7.093 4.354-8.143 30.413-9.228 68.222-4.758 94.072 11.127 3.07 1.89 4.04 5.91 2.15 8.976v-0.001zm0.88-23.744c-26.99-16.031-71.52-17.505-97.289-9.684-4.138 1.255-8.514-1.081-9.768-5.219-1.254-4.14 1.08-8.513 5.221-9.771 29.581-8.98 78.756-7.245 109.83 11.202 3.73 2.209 4.95 7.016 2.74 10.733-2.2 3.722-7.02 4.949-10.73 2.739zm94.56 3.072c-14.46-3.448-17.03-5.868-17.03-10.953 0-4.804 4.52-8.037 11.25-8.037 6.52 0 12.98 2.455 19.76 7.509 0.2 0.153 0.46 0.214 0.71 0.174 0.26-0.038 0.48-0.177 0.63-0.386l7.06-9.952c0.29-0.41 0.21-0.975-0.18-1.288-8.07-6.473-17.15-9.62-27.77-9.62-15.61 0-26.52 9.369-26.52 22.774 0 14.375 9.41 19.465 25.67 23.394 13.83 3.187 16.17 5.857 16.17 10.629 0 5.29-4.72 8.58-12.32 8.58-8.44 0-15.33-2.85-23.03-9.51-0.19-0.17-0.45-0.24-0.69-0.23-0.26 0.02-0.49 0.14-0.65 0.33l-7.92 9.42c-0.33 0.4-0.29 0.98 0.09 1.32 8.96 8 19.98 12.22 31.88 12.22 16.82 0 27.69-9.19 27.69-23.42 0.03-12.007-7.16-18.657-24.77-22.941l-0.03-0.013zm62.86-14.26c-7.29 0-13.27 2.872-18.21 8.757v-6.624c0-0.523-0.42-0.949-0.94-0.949h-12.95c-0.52 0-0.94 0.426-0.94 0.949v73.601c0 0.52 0.42 0.95 0.94 0.95h12.95c0.52 0 0.94-0.43 0.94-0.95v-23.23c4.94 5.53 10.92 8.24 18.21 8.24 13.55 0 27.27-10.43 27.27-30.369 0.02-19.943-13.7-30.376-27.26-30.376l-0.01 0.001zm12.21 30.375c0 10.149-6.25 17.239-15.21 17.239-8.85 0-15.53-7.41-15.53-17.239 0-9.83 6.68-17.238 15.53-17.238 8.81-0.001 15.21 7.247 15.21 17.237v0.001zm50.21-30.375c-17.45 0-31.12 13.436-31.12 30.592 0 16.972 13.58 30.262 30.91 30.262 17.51 0 31.22-13.39 31.22-30.479 0-17.031-13.62-30.373-31.01-30.373v-0.002zm0 47.714c-9.28 0-16.28-7.46-16.28-17.344 0-9.929 6.76-17.134 16.07-17.134 9.34 0 16.38 7.457 16.38 17.351 0 9.927-6.8 17.127-16.17 17.127zm68.27-46.53h-14.25v-14.566c0-0.522-0.42-0.948-0.94-0.948h-12.95c-0.52 0-0.95 0.426-0.95 0.948v14.566h-6.22c-0.52 0-0.94 0.426-0.94 0.949v11.127c0 0.522 0.42 0.949 0.94 0.949h6.22v28.795c0 11.63 5.79 17.53 17.22 17.53 4.64 0 8.49-0.96 12.12-3.02 0.3-0.16 0.48-0.48 0.48-0.82v-10.6c0-0.32-0.17-0.63-0.45-0.8-0.28-0.18-0.63-0.19-0.92-0.04-2.49 1.25-4.9 1.83-7.6 1.83-4.15 0-6.01-1.89-6.01-6.11v-26.76h14.25c0.52 0 0.94-0.426 0.94-0.949v-11.126c0.02-0.523-0.4-0.949-0.93-0.949l-0.01-0.006zm49.64 0.057v-1.789c0-5.263 2.02-7.61 6.54-7.61 2.7 0 4.87 0.536 7.3 1.346 0.3 0.094 0.61 0.047 0.85-0.132 0.25-0.179 0.39-0.466 0.39-0.77v-10.91c0-0.417-0.26-0.786-0.67-0.909-2.56-0.763-5.84-1.546-10.76-1.546-11.95 0-18.28 6.734-18.28 19.467v2.74h-6.22c-0.52 0-0.95 0.426-0.95 0.948v11.184c0 0.522 0.43 0.949 0.95 0.949h6.22v44.405c0 0.53 0.43 0.95 0.95 0.95h12.94c0.53 0 0.95-0.42 0.95-0.95v-44.402h12.09l18.52 44.402c-2.1 4.66-4.17 5.59-6.99 5.59-2.28 0-4.69-0.68-7.14-2.03-0.23-0.12-0.51-0.14-0.75-0.07-0.25 0.09-0.46 0.27-0.56 0.51l-4.39 9.63c-0.21 0.46-0.03 0.99 0.41 1.23 4.58 2.48 8.71 3.54 13.82 3.54 9.56 0 14.85-4.46 19.5-16.44l22.46-58.037c0.12-0.292 0.08-0.622-0.1-0.881-0.17-0.257-0.46-0.412-0.77-0.412h-13.48c-0.41 0-0.77 0.257-0.9 0.636l-13.81 39.434-15.12-39.46c-0.14-0.367-0.49-0.61-0.88-0.61h-22.12v-0.003zm-28.78-0.057h-12.95c-0.52 0-0.95 0.426-0.95 0.949v56.481c0 0.53 0.43 0.95 0.95 0.95h12.95c0.52 0 0.95-0.42 0.95-0.95v-56.477c0-0.523-0.42-0.949-0.95-0.949v-0.004zm-6.4-25.719c-5.13 0-9.29 4.152-9.29 9.281 0 5.132 4.16 9.289 9.29 9.289s9.28-4.157 9.28-9.289c0-5.128-4.16-9.281-9.28-9.281zm113.42 43.88c-5.12 0-9.11-4.115-9.11-9.112s4.04-9.159 9.16-9.159 9.11 4.114 9.11 9.107c0 4.997-4.04 9.164-9.16 9.164zm0.05-17.365c-4.67 0-8.2 3.71-8.2 8.253 0 4.541 3.51 8.201 8.15 8.201 4.67 0 8.2-3.707 8.2-8.253 0-4.541-3.51-8.201-8.15-8.201zm2.02 9.138l2.58 3.608h-2.18l-2.32-3.31h-1.99v3.31h-1.82v-9.564h4.26c2.23 0 3.69 1.137 3.69 3.051 0.01 1.568-0.9 2.526-2.21 2.905h-0.01zm-1.54-4.315h-2.37v3.025h2.37c1.18 0 1.89-0.579 1.89-1.514 0-0.984-0.71-1.511-1.89-1.511z"})})]})})]}),(0,a.jsx)("div",{className:g().headerLine})]})}let _=c.createContext([null,()=>{}]);function m(e){let{data:r}=e,[t,o]=(0,c.useState)(r.songs),[s,n]=(0,c.useState)(!1),[i,h]=(0,c.useState)(null),[u,g]=(0,c.useState)(!1);(0,c.useEffect)(()=>{u&&setTimeout(()=>g(!1),3e3)},[u]);let m=e=>{let r=t.map((r,t)=>t===e?{...r,isFavourite:!r.isFavourite}:r);o(r);let a=r.some(e=>e.isFavourite);n(a)},f=async()=>{try{let e=t.map(e=>{if(e.whatSong&&e.isFavourite)return e.whatSong.id}),r=e.filter(Boolean);await p.Z.post("https://eurovisiongen.vercel.app/api/makePlaylist",{idsOfSongs:r},{withCredentials:!0}),g(!0)}catch(e){console.error("An error occurred while saving a playlist:",e)}};return(0,a.jsxs)(_.Provider,{value:[i,h],children:[(0,a.jsx)(v,{}),(0,a.jsx)("main",{className:d().main,children:(0,a.jsxs)("div",{className:d().mainWrapper,children:[(0,a.jsxs)("section",{className:d().generateSection,children:[(0,a.jsx)("div",{className:d().generateButtonWrapper,children:(0,a.jsx)("button",{className:d().generate,onClick:()=>{if(t){let e=t.map(e=>{if(e.isFavourite){let r=e.songsData[e.whatIndex];return{...e,whatSong:r,isFavourite:!0}}{let r=Math.floor(Math.random()*e.songsData.length),t=e.songsData[r];return t?{...e,whatSong:t,whatIndex:r,isFavourite:!1}:null}}).filter(Boolean);o(e)}},children:"Generate"})}),s&&i&&(0,a.jsxs)("div",{className:d().createPlaylistButtonWrapper,children:[(0,a.jsx)("button",{onClick:f,children:"Create a Playlist"}),u&&(0,a.jsx)("span",{className:d().saved,children:"Playlist Saved!"})]})]}),(0,a.jsx)("section",{className:d().songSection,children:t&&t.some(e=>e.whatSong)?t.map((e,r)=>{if(e&&e.whatSong)return(0,a.jsx)(l,{id:e.whatSong.id,country:e.country,isFavourite:e.isFavourite,toggleFavourite:()=>m(r)},e.whatSong.id)}):(0,a.jsxs)("div",{className:d().infoBox,children:[(0,a.jsx)("h1",{children:"Welcome!"}),(0,a.jsx)("p",{className:d().bangers,children:"Explore trending bangerz from each Eurovision country."}),(0,a.jsx)("p",{children:"Save liked songs and create spotify playlists!"}),(0,a.jsx)("p",{children:"Click on stars to add songs to a playlist or lock them."}),(0,a.jsx)("p",{children:"Have fun!"})]})})]})})]})}var f=t(3598),x=t.n(f);function w(){return(0,a.jsxs)("footer",{children:[(0,a.jsx)("div",{className:x().footerLine}),(0,a.jsx)("div",{className:x().footerWrapper,children:(0,a.jsx)("nav",{children:(0,a.jsx)("ul",{className:x().footerNav,children:(0,a.jsx)("li",{children:(0,a.jsx)("a",{target:"_blank",className:x().link,href:"https://github.com/etkaesque/eurovision-simulator",children:(0,a.jsx)("svg",{width:"98",height:"96",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z"})})})})})})})]})}var j=!0;function N(e){let{data:r}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(s(),{children:[(0,a.jsx)("title",{children:"Eurovision Generator"}),(0,a.jsx)("meta",{name:"description",content:"Eurovision song contest generator by Edgaras M."}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,a.jsx)(a.Fragment,{children:r&&(0,a.jsx)(m,{data:r})}),(0,a.jsx)(w,{})]})}},3598:function(e){e.exports={footerWrapper:"footer_footerWrapper__w_xGt",footerLine:"footer_footerLine__5HwBO",footerNav:"footer_footerNav__XX90_",link:"footer_link__QI8Oy"}},396:function(e){e.exports={main:"generator_main__wtcHa",mainWrapper:"generator_mainWrapper__s9OPq",generateSection:"generator_generateSection__HyZ1O",generateButtonWrapper:"generator_generateButtonWrapper__gqtdl",createPlaylistButtonWrapper:"generator_createPlaylistButtonWrapper__ufov_",saved:"generator_saved__1_hXt",forYourInformation:"generator_forYourInformation__Lelob",generate:"generator_generate__58V5t",songSection:"generator_songSection__fj0V7",infoBox:"generator_infoBox__byyix"}},4745:function(e){e.exports={headerWrapper:"header_headerWrapper__coTaj",headerLine:"header_headerLine__bg4ms",logo:"header_logo__oY__6",spotifyLoginWrapper:"header_spotifyLoginWrapper__lzD17",spotifyLogin:"header_spotifyLogin__QpGKo",profile:"header_profile__K2i5s",arrow:"header_arrow__bj82k",arrowUp:"header_arrowUp__15LqQ",logOutWrapper:"header_logOutWrapper__fS1mW"}},771:function(e){e.exports={frameWrapper:"player_frameWrapper__Mphl7",frameCountry:"player_frameCountry__gJVlu",button:"player_button__w9wGB",svg:"player_svg___2INf"}}},function(e){e.O(0,[237,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);